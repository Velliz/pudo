---
layout: page
title: "Routing"
category: doc
date: 2017-07-22 14:32:14
---

## DEPRECATED IN 1.1.0

Ada saatnya kamu tidak ingin menggunakan kombinasi URL namakelas/namamethod. Untuk menjawab itu, Puko menyediakan kustomisasi routing.
Jadi routing kamu gak melulu harus namakelas/namamethod. Caranya gimana?

Untuk dapat mengakses URL yang paling mendasar seperti

```
localhost

example.com
```

Caranya adalah dengan membuat controller dengan nama class **main** dan nama function **main** Contoh.

```
public class main extends View {

    public function main()
    {
    }
    
}
```

Kemudian, ada juga routing dengan nama kelas saja. Contohnya

```
example.com/?request=hello
```

kamu bisa buat routing seperti itu dengan dua cara. Pertama kamu bisa manfaatin kelas bernama **hello** dan membuat function dengan ketentuan
 
```
public class hello extends View {

    public function main()
    {
    }
    
}
```
 
Ya, function bernama **main** adalah function yang akan dipanggil ketika kamu tidak menuliskan method apa yang harus dipanggil. 
Tentunya kamu membutuhkan sebuah file bernama **main.html** jika kamu mengunakan controller bertipe View.

Tapi, dengan cara gini, berarti orang bisa nebak dong dikodingan kita ada file controller apa dan method apa aja.
Tenang, hal itu bisa diatasi kok. Karena Puko Framework menyediakan Custom Routing yang bisa kamu set di file **index.php**
Yuk kita lihat lagi gimana bentuknya file **index.php**

```
define('ROOT', __DIR__);
define('FILE', dirname(__FILE__));
define('BASE_URL', "http://" . $_SERVER['SERVER_NAME'] . "/anywhere/");
require __DIR__ . '/vendor/autoload.php';
$framework = new \pukoframework\Framework();
$framework->RouteMapping(array());
$framework->Start();
```

Kalau diperhatikan baik-baik. Puko Framework memiliki pemanggilan sebuah function.

```
$framework->RouteMapping(array());
```

yang isinya array yang masih kosong. Kita bisa mendefinisikan custom URL kita disini. Misal

```
$framework->RouteMapping(array(
    'register' => 'hello/registrasi',
));
```

Yang artinya, kita membuat URL baru dan sekarang jadi terdapat dua cara untuk mengaksesnya.

```
example.com/?request=register
example.com/?request=hello/registrasi
```

yang keduanya sama-sama mengakses kelas bernama **hello** dan function bernama **registrasi**. 
dengan cara **RouteMapping** ini, kita bisa mengelabuhi kebenaran nama kelas dan function yang kita punya.
Kamu juga bisa menulisnya sebanyak yang kamu mau. Misal

```
$framework->RouteMapping(array(
    'register' => 'main/register',
    'login' => 'main/userlogin',
    'logout' => 'main/userlogout',
    'about' => 'main/about',
    'home' => 'main/home',
    'sorry' => 'main/sorry',
    'beranda' => 'users/beranda'
));
```

kamu juga bisa membuat **RouteMapping** dengan lapisan / seperti ini.

```
$framework->RouteMapping(array(
    'event/guest/register' => 'main/register',
    'logout' => 'main/userlogout'
));
```

dengan ketentuan semakin banyak kamu memakai / maka URL tersebut semakin harus diletakan dipaling pertama.

TIP: Jika kamu menggunakan Apache HTTP Server. kamu bisa membuat sebuah file .htaccess untuk mengubah

```
example.com/?request=hello/registrasi -> example.com/hello/registrasi
```

filenya dapat ditulis dengan nama .htaccess dan
letaknya satu direktori bersama dengan index.php

```
<IfModule mod_rewrite.c>

RewriteEngine On

RewriteCond %{REQUEST_URI} !(public|css)
RewriteCond %{REQUEST_URI} !(\.css|\.js|\.png|\.jpg|\.gif|robots\.txt)$ [NC]
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d

RewriteRule  ^(.+)?$ index.php?request=$1&lang=$2 [L,QSA]

</IfModule>
```

Dan pastikan anda sudah meng-allow fitur Rewrite pada Apache HTTP Server.

Untuk server lainnya segera menyusul.